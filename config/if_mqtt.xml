<if_mqtt>
 <enableserver>1</enableserver>
 <enablealarm>0</enablealarm>
 <maxPersistSize>50000</maxPersistSize>
 <maxPendingMessages>100</maxPendingMessages>
 <alarmGroups>None</alarmGroups>
 <server port="1883" address="192.168.5.141">
  <enableTLS>0</enableTLS>
  <caCert></caCert>
  <clientCert></clientCert>
  <clientKey></clientKey>
  <tlsVersion></tlsVersion>
  <insecure>0</insecure>
  <clientID>123456789</clientID>
  <keepAliveTime>20</keepAliveTime>
  <useCleanSession>0</useCleanSession>
  <useLegacy>0</useLegacy>
  <username></username>
  <password><![CDATA[]]></password>
  <qos>0</qos>
  <retain>0</retain>
  <persist>0</persist>
  <birthPattern>
   <topic>myaccount/${clientId}/birth${tagName}</topic>
   <payload>{ "ts": "${timestamp}" }</payload>
  </birthPattern>
  <willPattern>
   <topic>myaccount/${clientId}/will</topic>
   <payload>{ "ts": "${timestamp}" }</payload>
  </willPattern>
  <dataPubPattern>
   <topic>${tagName}</topic>
   <payload>${value},${clientId}</payload>
  </dataPubPattern>
  <dataSubPattern>
   <topic>${tagName}</topic>
   <payload>${value}</payload>
  </dataSubPattern>
  <alarmPattern>
   <topic>myaccount/${alarmGroup}/alarms</topic>
   <payload>{"alarm": "${alarmName}", "v": { "v": "${activeValue}", "ts": "${timestamp}", "q": "${quality}" } }</payload>
  </alarmPattern>
  <pluginName>mosquitto</pluginName>
  <groups>
   <group name="MQTT_PUB">
    <qos>2</qos>
    <retain>0</retain>
    <persist>0</persist>
    <policy>
     <name>OnChange</name>
     <triggers>
      <trigger>
       <type>onchange</type>
       <minIntervalMs>1000</minIntervalMs>
       <deadband>0</deadband>
       <isPercent>0</isPercent>
      </trigger>
     </triggers>
     <conditions/>
    </policy>
   </group>
   <group name="MQTT_SUB">
    <qos>2</qos>
    <retain>0</retain>
    <persist>0</persist>
    <policy>
     <name>OnTimer</name>
     <triggers>
      <trigger>
       <type>timer</type>
       <intervalMs>5000</intervalMs>
      </trigger>
     </triggers>
     <conditions/>
    </policy>
   </group>
  </groups>
  <jsonPayload>0</jsonPayload>
  <policy>
   <name>OnChange</name>
   <triggers>
    <trigger>
     <type>onchange</type>
     <minIntervalMs>1000</minIntervalMs>
     <deadband>0</deadband>
     <isPercent>0</isPercent>
    </trigger>
   </triggers>
   <conditions/>
  </policy>
 </server>
</if_mqtt>
